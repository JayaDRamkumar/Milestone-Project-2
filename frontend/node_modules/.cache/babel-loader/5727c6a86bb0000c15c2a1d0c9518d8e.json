{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jayaramkumar/Desktop/2Milestone/Milestone-Project-2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jayaramkumar/Desktop/2Milestone/Milestone-Project-2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jayaramkumar/Desktop/2Milestone/Milestone-Project-2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams,useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MovieDetails(){var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var _ref;var fetchData=function fetchData(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,resData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:5001/movies/\".concat(id));case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error('Network response was not ok');case 6:_context.next=8;return response.json();case 8:resData=_context.sent;setMovie(resData);setLoading(false);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);setError(_context.t0);setLoading(false);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}))).apply(this,arguments);};fetchData();},[id]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:movie?movie.title:'Loading...'}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:movie.rated}),/*#__PURE__*/_jsx(\"img\",{style:{width:'200px'},src:movie.pic,alt:movie.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rated \",movie.rated,\", \",movie.duration,\" Minutes\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return history.goBack();},children:\"Go Back\"})]})]});}export default MovieDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","useHistory","jsx","_jsx","jsxs","_jsxs","MovieDetails","_useParams","id","history","_useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_ref","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","resData","wrap","_callee$","_context","prev","next","fetch","concat","sent","ok","Error","json","t0","stop","apply","arguments","children","title","message","rated","style","width","src","pic","alt","duration","onClick","goBack"],"sources":["/Users/jayaramkumar/Desktop/2Milestone/Milestone-Project-2/frontend/src/components/MoviesDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\n\nfunction MovieDetails() {\n  const { id } = useParams(); \n  const history = useHistory();\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`http://localhost:5001/movies/${id}`);\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const resData = await response.json();\n        setMovie(resData);\n        setLoading(false);\n      } catch (err) {\n        setError(err);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [id]); \n\n  return (\n    <div>\n      <h1>{movie ? movie.title : 'Loading...'}</h1>\n      {loading ? (\n        <p>Loading...</p>\n      ) : error ? (\n        <p>Error: {error.message}</p>\n      ) : (\n        <div>\n          <p>{movie.rated}</p>\n          <img style={{ width: '200px' }} src={movie.pic} alt={movie.title} />\n          <p>\n            Rated {movie.rated}, {movie.duration} Minutes\n          </p>\n          {/* Add review form here */}\n          <button onClick={() => history.goBack()}>Go Back</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default MovieDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}