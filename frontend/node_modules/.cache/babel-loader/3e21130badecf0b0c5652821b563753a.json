{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jayaramkumar/Desktop/Software-Development/2Milestone/Milestone-Project-2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jayaramkumar/Desktop/Software-Development/2Milestone/Milestone-Project-2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jayaramkumar/Desktop/Software-Development/2Milestone/Milestone-Project-2/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useHistory}from'react-router';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var _ref;var fetchData=function fetchData(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,resData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"movies\"));case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error('Network response was not ok');case 6:_context.next=8;return response.json();case 8:resData=_context.sent;setMovies(resData);setLoading(false);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);setError(_context.t0);setLoading(false);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}))).apply(this,arguments);};fetchData();},[]);var moviesFormatted=null;if(loading){moviesFormatted=/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}else if(error){moviesFormatted=/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]});}else{moviesFormatted=movies.map(function(movie){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(movie._id),children:movie.title})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:movie.rated}),/*#__PURE__*/_jsx(\"img\",{style:{width:'200px'},src:movie.pic,alt:movie.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"Rated \",movie.rated,\", \",movie.duration,\" Minutes\"]})]},movie._id);});}return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Modern Movie Portal -HOME\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:moviesFormatted})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","useHistory","Link","jsx","_jsx","jsxs","_jsxs","Home","history","_useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_ref","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","resData","wrap","_callee$","_context","prev","next","fetch","concat","process","env","REACT_APP_SERVER_URL","sent","ok","Error","json","t0","stop","apply","arguments","moviesFormatted","children","message","map","movie","className","to","_id","title","rated","style","width","src","pic","alt","duration"],"sources":["/Users/jayaramkumar/Desktop/Software-Development/2Milestone/Milestone-Project-2/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nfunction Home() {\n  const history = useHistory();\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_SERVER_URL}movies`);\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const resData = await response.json();\n        setMovies(resData);\n        setLoading(false);\n      } catch (err) {\n        setError(err);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  let moviesFormatted = null;\n\n  if (loading) {\n    moviesFormatted = <p>Loading...</p>;\n  } else if (error) {\n    moviesFormatted = <p>Error: {error.message}</p>;\n  } else {\n    moviesFormatted = movies.map((movie) => (\n      <div className=\"col-sm-6\" key={movie._id}>\n        <h2>\n          <Link to={`/movies/${movie._id}`}>{movie.title}</Link>\n        </h2>\n        <p className=\"text-center\">{movie.rated}</p>\n        <img style={{ width: '200px' }} src={movie.pic} alt={movie.title} />\n        <p className=\"text-center\">\n          Rated {movie.rated}, {movie.duration} Minutes\n        </p>\n      </div>\n    ));\n  }\n\n  return (\n    <main>\n      <h1>Modern Movie Portal -HOME</h1>\n      <div className=\"row\">{moviesFormatted}</div>\n    </main>\n  );\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}